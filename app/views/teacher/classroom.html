<div ng-include="'views/navbar.html'"></div>

<div class="container">
  <div class="well __classroom">
    <h3 class="well_h pull-left">{{cr.name}}</h3>

    <tabset>
      <tab heading="Administration" select="selectTab('administration')" active="activeTabs.administration.main">

        <tabset vertical="true" type="'pills'">
          <tab heading="Info" select="selectSubtab('info')" active="activeTabs.administration.info">

            <div class="tab-body">
              <p class="text-muted">Basic information about your class</p>

              <div class="col-md-6">
                <div class="form-group">
                  <label class="control-label" for="input_name">Classroom Name</label>
                  <input type="text" class="form-control" ng-model="cr.name" id="input_name" placeholder="Algebra 101" required>
                </div>

                <div class="form-group">
                  <label class="control-label" for="input_subject">Subject</label>
                  <input type="text" class="form-control" ng-model="cr.subject" id="input_subject" placeholder="Maths" required>
                </div>

                <div class="form-group">
                  <label class="control-label" for="input_courseNo">Course Number</label>
                  <input type="text" class="form-control" ng-model="cr.courseNo" id="input_courseNo" placeholder="492">
                </div>
              </div>

              <div class="col-md-6">
                <div class="form-group">
                  <label class="control-label" for="input_gradeLevel">Grade Level</label>
                  <select class="form-control" id="input_gradeLevel" ng-model="cr.gradeLevel" required>
                    <option value="pre-k">Pre-K</option>
                    <option value="k">K</option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                    <option>6</option>
                    <option>7</option>
                    <option>8</option>
                    <option>9</option>
                    <option>10</option>
                    <option>11</option>
                    <option>12</option>
                    <option>13</option>
                    <option>14</option>
                    <option>15</option>
                    <option>16</option>
                    <option>17</option>
                  </select>
                </div>

                <div class="form-group">
                  <label class="control-label" for="input_startDate">Start Date</label>
                  <input type="date" class="form-control" ng-model="cr.startDate" id="input_startDate">
                </div>

                <div class="form-group">
                  <label class="control-label" for="input_endDate">End Date</label>
                  <input type="date" class="form-control" ng-model="cr.endDate" id="input_endDate">
                </div>
              </div>
            </div>

            <div class="pull-right">
              <button type="button" class="btn btn-success" ng-click="saveClass()">{{saveText}}</button>
              <button type="button" class="btn btn-danger" ng-click="deleteClass()">{{deleteText}}</button>
            </div>

          </tab>

          <tab heading="Students" select="selectSubtab('students')" active="activeTabs.administration.students">

            <div class="tab-body">
              <p class="text-muted pull-left">Organise your students here</p>

              <div class="pull-right">
                <button type="button" class="btn btn-default btn-xs" ng-click="openAddStudentModal()">Add Student</button>
                <button type="button" class="btn btn-default btn-xs" feature="Send an email to all your students.">Email</button>
              </div>

              <div class="table_container">
                <table class="table table-striped table-hover" ng-show="cr.students">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>Name</th>
                      <th>Email</th>
                      <th>Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr ng-repeat="(i, student) in cr.students track by $index">
                      <td>{{i+1}}</td>
                      <td>{{student.name}}</td>
                      <td>{{student.email}}</td>
                      <td>
                        <button type="button" class="btn btn-primary btn-xs" feature="Send an email to {{student.name}}.">Email</button>
                        <button type="button" class="btn btn-danger btn-xs" ng-click="removeStudent(student)">Delete</button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>

              <p class="well_not text-muted" ng-hide="cr.students">
                <span>You don't have any students.</span>
                <a ng-click="openAddStudentModal()">Add one now!</a>
              </p>
            </div>

          </tab>
        </tabset>

      </tab>

      <tab class="gradebook" heading="Gradebook" select="selectTab('gradebook')" active="activeTabs.gradebook.main">
        <div ng-show="cr.students">
          <div class="gradebook_grid" ng-grid="gridOptions"></div>
          <button type="button" class="btn btn-success gradebook_done pull-right" ng-click="saveGradebook()">{{saveGradebookText}}</button>
        </div>

        <p class="well_not well_top_fix text-muted" ng-hide="cr.students">
          <span>You don't have any students. Please go to the </span>
          <a ng-click="activeTabs['administration'].main = true; activeTabs['administration'].students = true">Administration</a>
          <span> tab to add students!</span>
        </p>
      </tab>

      <!--<tab heading="Attendance" select="selectTab('attendance')" active="activeTabs.attendance.main">
        <p>WIP</p>
      </tab>-->
    </tabset>

  </div>
</div>
